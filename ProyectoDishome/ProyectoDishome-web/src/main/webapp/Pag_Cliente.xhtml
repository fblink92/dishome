<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">


    <f:view contentType="text/html">
        <h:head>
            <title>DISHOME--TIMESHARE</title>    
            <link href="#{facesContext.externalContext.requestContextPath}/css/bootstrap.css" type="text/css" rel="stylesheet"/>
            <link href="#{facesContext.externalContext.requestContextPath}/css/login.css" type="text/css" rel="stylesheet"/>
            <link href="#{facesContext.externalContext.requestContextPath}/css/style.css" type="text/css" rel="stylesheet"/>
            <link href="#{facesContext.externalContext.requestContextPath}/css/bootstrap.css.map" type="text/css" rel="stylesheet"/>
            <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
            <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        </h:head>

        <h:body>
            <p:layout fullPage="true">
                <p:layoutUnit position="north" closable="true" collapsible="true">
                    <a href="#"><h:graphicImage value="/images/banner.png" width="100%"/>  </a>
                </p:layoutUnit>
                <p:layoutUnit position="west"  header="MENU" collapsible="true">
                    <h:form>
                        <p:growl autoUpdate="true"/>

                        <p:panelMenu style="width:auto; height: auto;">
                            <p:submenu label="Bienvenido "> 
                                <p:menuitem value="Home"  icon="ui-icon-home" outcome="/Principal" />
                                <p:menuitem value="Cerrar Sesion" actionListener="#{loginbean.logout()}"  
                                            oncomplete="logout(xhr, status, args)" icon="ui-icon-key"/>                                   
                            </p:submenu>
                            <p:separator />
                            <p:submenu label="Administacion">
                                <p:menuitem value="Usuarios"   ajax="true" icon="ui-icon-person" />
                                <p:menuitem value="Cliente"   ajax="true" icon="ui-icon-calendar" outcome="/Pag_Cliente"/>
                            </p:submenu>
                            <p:separator />
                            <p:submenu label="Reservaciones" > 
                                <p:menuitem value="Semanas-Contrato" icon="ui-icon-transferthick-e-w" />                             
                                <p:menuitem value="Unidad vacaional" icon=" ui-icon-cart" />
                                <p:menuitem value="Servicios Habitacion" icon="ui-icon-suitcase" />
                                <p:menuitem value="Mantenimiento" icon="ui-icon-suitcase" />
                                <p:menuitem value="Reservacion" icon="ui-icon-suitcase" />
                            </p:submenu>                  
                        </p:panelMenu>
                    </h:form>

                </p:layoutUnit>

                <p:layoutUnit position="center">
                    <h:form>
                        <!--<p:growl autoUpdate="true"/> -->
                        <p:panel header="Formulario Cliente">
                            <p:panelGrid columns="3">
                                <p:outputLabel for="codigo_cliente" value="Codigo" />
                                <p:inputText id="codigo_cliente" value="#{clientebean.cliente1.codigo_cliente}" requiredMessage="Ingrese el id" required="true" readonly="#{clientebean.enModificar}"/>
                                <p:message for="codigo_cliente" />
                                <p:outputLabel for="cedula" value="Cedula" />
                                <p:inputText id="cedula" value="#{clientebean.cliente1.cedula}" requiredMessage="Ingrese la cedula" required="true"/>
                                <p:message for="cedula" />
                                <p:outputLabel for="nombre" value="Nombre" />
                                <p:inputText id="nombre" value="#{clientebean.cliente1.nombre}" required="true" requiredMessage="Ingrese el nombre"/>
                                <p:message for="nombre" />
                                <p:outputLabel for="apellido" value="Apellido" />
                                <p:inputText id="apellido" value="#{clientebean.cliente1.apellido}" required="true" requiredMessage="Ingrese el apellido" />
                                <p:message for="apellido" />
                                <p:outputLabel for="telefono" value="Telefono" />
                                <p:inputText id="telefono" value="#{clientebean.cliente1.telefono}" required="true" requiredMessage="Ingrese el telefono" />
                                <p:message for="telefono" />
                                <p:outputLabel for="direccion" value="Direccion" />
                                <p:inputText id="direccion" value="#{clientebean.cliente1.direccion}" required="true" requiredMessage="Ingrese la direccion" />
                                <p:message for="direccion" />
                                <p:outputLabel for="email" value="Email" />
                                <p:inputText id="email" value="#{clientebean.cliente1.email}" >
                                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                </p:inputText>
                                <p:message for="email" />
                            </p:panelGrid>
                            <p:commandButton value="Nuevo" actionListener="#{clientebean.nuevo()}" immediate="true" update="@form"/>
                            <p:commandButton value="Aceptar" actionListener="#{clientebean.aceptar()}"  update="@form"/>
                            <p:commandButton value="Cancelar" actionListener="#{clientebean.cancelar()}"  update="@form"/>
                        </p:panel>
                    </h:form>
                    <p:dataTable var="cliente" value="#{clientebean.cliente}" selectionMode="single" 
                                 selection="#{clientebean.clienteselected}" rowKey="#{cliente.codigo_cliente}">
                        <p:column headerText="Cedula">
                            <h:outputText value="#{cliente.cedula}" />
                        </p:column>
                        <p:column headerText="Nombre">
                            <h:outputText value="#{cliente.nombre}" />
                        </p:column>
                        <p:column headerText="Apellido">
                            <h:outputText value="#{cliente.apellido}" />
                        </p:column>
                        <p:column headerText="Telefono">
                            <h:outputText value="#{cliente.telefono}" />
                        </p:column>
                        <p:column headerText="Direccion">
                            <h:outputText value="#{cliente.direccion}" />
                        </p:column>
                        <p:column headerText="Email">
                            <h:outputText value="#{cliente.email}" />
                        </p:column>
                    </p:dataTable>
                </p:layoutUnit>

            </p:layout>
        </h:body>
    </f:view>
    <script type="text/javascript">
        //<![CDATA[
        function logout(xhr, status, args) {
            setTimeout(function () {
                window.location = 'faces/index.xhtml';
            }, 500);
        }
        //]]>
    </script>
</html>
