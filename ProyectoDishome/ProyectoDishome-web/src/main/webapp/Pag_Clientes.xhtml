<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//ES" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="/plantillas/template3.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">  

    <ui:define name="contenido">   
        <h:form id="tabla">
            <p:dataTable var="cliente" value="#{clientebean.cliente}" selectionMode="single" 
                         selection="#{clientebean.clienteselected}" rowKey="#{cliente.codigo_cliente}">
                <p:ajax event="rowSelect" update="@form" />  
                <p:column headerText="Cedula">
                    <h:outputText value="#{cliente.cedula}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{cliente.nombre}" />
                </p:column>
                <p:column headerText="Apellido">
                    <h:outputText value="#{cliente.apellido}" />
                </p:column>
                <p:column headerText="Telefono">
                    <h:outputText value="#{cliente.telefono}" />
                </p:column>
                <p:column headerText="Direccion">
                    <h:outputText value="#{cliente.direccion}" />
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{cliente.email}" />
                </p:column>
            </p:dataTable>
            <p:spacer/>
            <p:panelGrid id="controllers" columns="3">

                <p:commandButton value="Nuevo" actionListener="#{clientebean.nuevo()}" update="agregar" oncomplete="PF('dlg').show()" />
                <p:commandButton value="Actualizar" actionListener="#{clientebean.modificar()}" update="agregar" oncomplete="PF('dlg').show()"/>
                <p:commandButton value="Elimninar" actionListener="#{clientebean.eliminar()}" update="tabla" />

            </p:panelGrid>

        </h:form>

        <p:dialog id="agregar" header="Login" widgetVar="dlg" resizable="false">
            <h:form id="ingreso">
                <h:panelGrid columns="3" style="margin: 0 auto;">
                    <p:outputLabel for="codigo_cliente" value="Codigo" />
                    <p:inputText id="codigo_cliente" value="#{clientebean.cliente1.codigo_cliente}" requiredMessage="Ingrese la cedula" required="true" readonly="#{clientebean.enModificar}"/>
                    <p:message for="codigo_cliente" />
                    <p:outputLabel for="cedula" value="Cedula" />
                    <p:inputText id="cedula" value="#{clientebean.cliente1.cedula}" requiredMessage="Ingrese la cedula" required="true"/>
                    <p:message for="cedula" />
                    <p:outputLabel for="nombre" value="Nombre" />
                    <p:inputText id="nombre" value="#{clientebean.cliente1.nombre}" required="true" requiredMessage="Ingrese el nombre"/>
                    <p:message for="nombre" />
                    <p:outputLabel for="apellido" value="Apellido" />
                    <p:inputText id="apellido" value="#{clientebean.cliente1.apellido}" required="true" requiredMessage="Ingrese el apellido" />
                    <p:message for="apellido" />
                    <p:outputLabel for="telefono" value="Telefono" />
                    <p:inputText id="telefono" value="#{clientebean.cliente1.telefono}" required="true" requiredMessage="Ingrese el telefono" />
                    <p:message for="telefono" />
                    <p:outputLabel for="direccion" value="Direccion" />
                    <p:inputText id="direccion" value="#{clientebean.cliente1.direccion}" required="true" requiredMessage="Ingrese la direccion" />
                    <p:message for="direccion" />
                    <p:outputLabel for="email" value="Email" />
                    <p:inputText id="email" value="#{clientebean.cliente1.email}" >
                    </p:inputText>
                    <p:message for="email" />                          
                    <p:commandButton value="Aceptar" actionListener="#{clientebean.crearmodificar()}" update="tabla"/>
                    <p:commandButton value="Cancelar"  actionListener="#{clientebean.cancelar()}" oncomplete="PF('dlg').hide();"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>

